package chapter5_review;

import java.util.Scanner;

public class DrinkOrderTestVer1_review {
	public static void main(String[] args) {
		
		Scanner scan = new Scanner(System.in);
		
		int menuNo = 0; //ì‚¬ìš©ìê°€ ì„ íƒí•œ ë©”ë‰´ ë²ˆí˜¸ë¥¼ ì €ì¥í•˜ëŠ” ë³€ìˆ˜
		int menuPrice = 0; //ì„ íƒí•œ ë©”ë‰´ì˜ ê°€ê²©ì„ ì €ì¥í•˜ëŠ” ë³€ìˆ˜
		String menuName = ""; // ì„ íƒí•œ ë©”ë‰´ì˜ ì´ë¦„ì„ ì €ì¥í•˜ëŠ” ë³€ìˆ˜. ì´ˆê¸°ê°’ì€ ë¹ˆ ë¬¸ìì—´
		String menuPriceOutput = ""; //menuPriceëŠ” ì •ìˆ˜ì´ì§€ë§Œ, ì²œ ë‹¨ìœ„ êµ¬ë¶„ ê¸°í˜¸(,)ë¥¼ ë„£ì–´ ì¶œë ¥í•˜ê¸° ìœ„í•´ ë¬¸ìì—´ ë³€ìˆ˜ menuPriceOutputì„ ì„ ì–¸í•˜ê³  ì´ˆê¸°ê°’ì„ ë¹ˆ ë¬¸ìì—´ë¡œ ì„¤ì •í•œë‹¤.
		
		int amount = 0; // ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê²°ì œ ê¸ˆì•¡ì„ ì €ì¥í•˜ëŠ” ë³€ìˆ˜
		int change = 0; // ê²°ì œ í›„ ë°œìƒí•œ ì”ëˆ ê¸ˆì•¡ì„ ì €ì¥í•˜ëŠ” ë³€ìˆ˜
		String changeOutput = ""; //change ê°’ì„ ì²œ ë‹¨ìœ„ êµ¬ë¶„ ê¸°í˜¸(,)ì™€ í•¨ê»˜ ì¶œë ¥í•˜ê¸° ìœ„í•œ ë¬¸ìì—´ ë³€ìˆ˜
		boolean menuFlag = true; // ë©”ë‰´ ì„ íƒ ë°˜ë³µë¬¸ì„ ì œì–´í•˜ê¸° ìœ„í•œ ë…¼ë¦¬ê°’ ë³€ìˆ˜
		boolean paymentFlag = true;// ê²°ì œ ì…ë ¥ ë°˜ë³µë¬¸ì„ ì œì–´í•˜ê¸° ìœ„í•œ ë…¼ë¦¬ê°’ ë³€ìˆ˜
		
		//step 1 : ë©”ë‰´íŒ ì¶œë ¥
		System.out.println("[ì‹œì‘]");
		System.out.println("-----------------------------------");
		System.out.println("  â˜•ğŸµğŸ¥¤ Mega Coffee Menu");
		System.out.println("-----------------------------------");
		System.out.println("1. â˜• ì•„ë©”ë¦¬ì¹´ë…¸ - 2,800ì›");
		System.out.println("2. ğŸµ ë°”ë‹ë¼ ë¼ë–¼ - 3,500ì›");
		System.out.println("3. ğŸ¥¤ ë”¸ê¸° ì‰ì´í¬ - 4,000ì›");
		System.out.println("-----------------------------------");
		
		//step 2: ë©”ë‰´ ì£¼ë¬¸ ê¸°ëŠ¥
		while(menuFlag) { //menuFlag trueë¡œ ì´ˆê¸°í™”ëœ boolean ê°’ì„ whileì— í• ë‹¹
			System.out.println("ì£¼ë¬¸í•  ë©”ë‰´ ë²ˆí˜¸ ì…ë ¥ > ");
			
			//ì…ë ¥ëœ ê°’ì´ ì •ìˆ˜ì¸ì§€ í™•ì¸
			if(scan.hasNextInt()) { 
				
				// ì…ë ¥ë°›ì€ ê°’ì´ ì •ìˆ˜í˜• ë°ì´í„°ë©´ ë°˜ë³µë¬¸ ì¤‘ì§€
				menuFlag = false;
				//ì •ìˆ˜í˜•ìœ¼ë¡œ ì…ë ¥ë°›ìœ¼ ê°’ì„ menuNoì— í• ë‹¹í•œë‹¤.
				menuNo = scan.nextInt();
				
				//switchë¬¸ì€ menuNo ë³€ìˆ˜ì˜ ê°’ì— ë”°ë¼ ì‹¤í–‰í•  ì½”ë“œë¥¼ ì„ íƒí•œë‹¤. ì²˜ìŒ menuNoëŠ” 0ìœ¼ë¡œ ì´ˆê¸°í™”ë˜ì—ˆì§€ë§Œ, ì‚¬ìš©ìê°€ ì…ë ¥í•œ ê°’ìœ¼ë¡œ ë³€ê²½ë˜ì–´ switchë¬¸ì— ì „ë‹¬ëœë‹¤.
				switch(menuNo) {
					//í• ë‹¹ ë°›ì€ ê°’ì´ 1 ~ 3 ì´ë¼ë©´ í•´ë‹¹ ë˜ëŠ” ê°’ì„ ì¶œë ¥í•œë‹¤.
					case 1 : menuName = "â˜• ì•„ë©”ë¦¬ì¹´ë…¸"; menuPrice = 2800; break;
					case 2 : menuName = "ğŸµ ë°”ë‹ë¼ ë¼ë–¼"; menuPrice = 3500; break;
					case 3 : menuName = "ğŸ¥¤ ë”¸ê¸° ì‰ì´í¬"; menuPrice = 4000; break;
					default: System.out.println("=> ì¤€ë¹„ì¤‘ì¸ ë©”ë‰´ì…ë‹ˆë‹¤.");
					//ì…ë ¥ ë°›ì€ ê°’ì´ 3 ì´ìƒì˜ ê°’ì´ë¼ë©´ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ê³  whileë¬¸ì„ ë‹¤ì‹œ ì‹¤í–‰í•˜ì—¬ ì •ìƒì ì¸ ê°’ì„ ì…ë ¥í•˜ë„ë¡ ìœ ë„í•œë‹¤.
					menuFlag = true;
				
				}//switch
				
				//ì¶œë ¥ìš© ë©”ë‰´ ê°€ê²© ì €ì¥
				//ì‚¬ìš©ìê°€ ì„ íƒí•œ ë©”ë‰´ ê°€ê²©(menuPrice)ì„ menuPriceOutputâ€ì— ì €ì¥í•œë‹¤. String.format("%,d", â€¦)ë¥¼ ì‚¬ìš©í•´ ìˆ«ìì— ì²œ ë‹¨ìœ„ êµ¬ë¶„ ê¸°í˜¸(,)ë¥¼ ë„£ëŠ”ë‹¤.
				menuPriceOutput = String.format("%,d", new Object[] {Integer.valueOf(menuPrice)});
			} else {
				//ì…ë ¥ë°›ì€ ê°’ì´ ì •ìˆ˜í˜•ì´ ì•„ë‹ˆë©´ ê²½ê³  ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ê³ , ì˜ëª» ì…ë ¥ëœ í† í°ì„ scan.next()ë¡œ ì†Œëª¨í•œ ë’¤ ë°˜ë³µë¬¸ì„ ì¬ì‹¤í–‰í•œë‹¤.
				//ë°˜ë³µë¬¸ ì¬ì‹¤í–‰
				System.out.println("ì˜¬ë°”ë¥´ì§€ ì•Šì€ ê°’ì…ë‹ˆë‹¤. ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”");
				scan.next();
			}//if
		}//while
		// ì‚¬ìš©ìê°€ ì…ë ¥í•œ menuNameì™€ í•´ë‹¹í•˜ëŠ” ê°€ê²©ì„ consoleì— ì¶œë ¥í•œë‹¤.
		System.out.println("=> ì£¼ë¬¸ ë©”ë‰´ : " + menuName + ", ê²°ì œ ì˜ˆì • ê¸ˆì•¡ : " + menuPriceOutput + "ì›");
		
		
		
		System.out.println("ê²°ì œ ì§„í–‰ ---------------------------------->>");
		//paymentFlagë¥¼ whileë¬¸ì˜ ì¡°ê±´ìœ¼ë¡œ ì‚¬ìš©í•œë‹¤. trueì´ë¯€ë¡œ ë°˜ë³µë¬¸ì´ ì²˜ìŒì— ì‹¤í–‰ëœë‹¤.
		while(paymentFlag) { 
			System.out.print("ê²°ì œ ê¸ˆì•¡ ì…ë ¥> ");
			//ì…ë ¥í•œ ê°’ì´ ì •ìˆ˜í˜• íƒ€ì…ì¸ì§€ í™•ì¸
			if(scan.hasNextInt()) {
				
				//ì‚¬ìš©ìê°€ ì›í•˜ëŠ” ë©”ë‰´ë¥¼ ì„ íƒí–ˆë‹¤ë©´ ê²°ì œ ê¸ˆì•¡ì„ ì…ë ¥ë°›ëŠ”ë‹¤.
				//+= ë¥¼ ì‚¬ìš©í•œ ì´ìœ ëŠ” ëª©í‘œ ê¸ˆì•¡ë³´ë‹¤ ë¶€ì¡±í•  ê²½ìš°, ë°˜ë³µë¬¸ì„ ë‹¤ì‹œ ì‹¤í–‰í•´ì„œ ì¶”ê°€ë¡œ ì…ë ¥í•œ ê¸ˆì•¡ì„ ëˆ„ì í•˜ê¸° ìœ„í•´ì„œë‹¤.
				//ì¦‰, ë‹¨ìˆœ ë®ì–´ì“°ê¸°(=) ëŒ€ì‹  ëˆ„ì í•©ì‚°(+=)ì„ ì‚¬ìš©í–ˆë‹¤.
				amount += scan.nextInt();
				
				//ì…ë ¥ ê¸ˆì•¡ì„ ë©”ì‹œì§€ë¥¼ í†µí•´ ì¶œë ¥
				System.out.println("ì´ ì…ë ¥ê¸ˆì•¡ : " + amount);
				
				//ì…ë ¥í•œ ê¸ˆì•¡ì´ ë©”ë‰´ ê°€ê²©ë³´ë‹¤ í¬ê±°ë‚˜ ê°™ìœ¼ë©´ ifë¬¸ì´ ì‹¤í–‰ë˜ê³ , ë°˜ë³µë¬¸ì„ ì¢…ë£Œí•œë‹¤.
				//ì´ ê²½ìš° elseë¬¸ì€ ì‹¤í–‰ë˜ì§€ ì•Šìœ¼ë©°, ê²°ì œ ì™„ë£Œ ë©”ì‹œì§€ì™€ ì”ëˆì„ ì¶œë ¥í•œë‹¤.
				if(amount >= menuPrice) {
					//ì”ëˆ = ì…ë ¥ ê¸ˆì•¡ - ë©”ë‰´ ê°€ê²© - ì‚¬ìš©ìê°€ ì…ë ¥í•œ ì´ ê¸ˆì•¡ì—ì„œ ë©”ë‰´ ê°€ê²©ì„ ë¹¼ì„œ ì”ëˆì„ ê³„ì‚°í•œë‹¤.
					change = amount - menuPrice;
					//changeOutput = String.format("%,d", new Object[] {Integer.valueOf(change)}); ë°©ë²• 1.
					changeOutput = String.format("%,d", change); // ë°©ë²• 2.
					
					paymentFlag = false;
				} else {
					//ê¸ˆì•¡ì´ ë©”ë‰´ ê°€ê²©ë³´ë‹¤ ë¶€ì¡±í•˜ë©´ elseë¬¸ì´ ì‹¤í–‰ë˜ê³ , paymentFlagê°€ ì—¬ì „íˆ trueì´ë¯€ë¡œ ë°˜ë³µë¬¸ì´ ë‹¤ì‹œ ì‹¤í–‰ë˜ì–´ ì¶”ê°€ ê²°ì œ ê¸ˆì•¡ì„ ì…ë ¥ë°›ëŠ”ë‹¤.
					System.out.println("ê¸ˆì•¡ì´ ë¶€ì¡±í•©ë‹ˆë‹¤. ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”");
				}//if
			} else {
				//ë§Œì•½ ì •ìˆ˜ ì´ì™¸ì˜ ê°’ì´ ì…ë ¥ë˜ë©´ ì˜¤ë¥˜ ë©”ì‹œì§€ë¥¼ ì¶œë ¥í•˜ê³ , ì˜ëª» ì…ë ¥ëœ ê°’ì„ scan.next()ë¡œ ì†Œëª¨í•œ ë’¤ ë°˜ë³µë¬¸ì„ ì¬ì‹¤í–‰í•œë‹¤.
				System.out.println("ì˜¬ë°”ë¥´ì§€ ì•Šì€ ê°’ì…ë‹ˆë‹¤. ë‹¤ì‹œ ì…ë ¥í•´ì£¼ì„¸ìš”");
				scan.next();
			}//if
		}//while
		//ì •ìƒì ì¸ ë©”ë‰´ êµ¬ë§¤ê°€ ì´ë£¨ì–´ì¡Œë‹¤ë©´ ê²°ì œ ì™„ë£Œ ë©”ì‹œì§€ì™€ ì”ëˆ ì¶œë ¥í•œë‹¤
		System.out.println("=> ê²°ì œ ì™„ë£Œ! ì”ëˆ : " + changeOutput + "ì›");
		
		
		//step 4: ì£¼ë¬¸ ì™„ë£Œ 
		System.out.println("ê²°ì œ ì™„ë£Œ ---------------------------------->>");
		System.out.println("[ì¢…ë£Œ]");
		System.out.println("ì´ìš©í•´ì£¼ì…”ì„œ ê°ì‚¬í•©ë‹ˆë‹¤.");

	}//main
	
}//class
